***************
*** 847,855 ****
                              } else {
                                  entityValue = Integer.parseInt(entityName.substring(1));
                              }
-                             if (entityValue > 0xFFFF) {
-                                 entityValue = -1;
-                             }
                          } catch (NumberFormatException ex) {
                              entityValue = -1;
                          }
--- 847,852 ----
                              } else {
                                  entityValue = Integer.parseInt(entityName.substring(1));
                              }
                          } catch (NumberFormatException ex) {
                              entityValue = -1;
                          }
***************
*** 920,936 ****
                                      case 'X' :
                                      case 'x' : {
                                          entityValue = Integer.parseInt(entityContent.substring(2), 16);
-                                         break;
                                      }
                                      default : {
                                          entityValue = Integer.parseInt(entityContent.substring(1), 10);
                                      }
                                  }
-                                 if (entityValue > 0xFFFF) {
-                                     entityValue = -1;
-                                 }
                              } catch (NumberFormatException e) {
-                                 entityValue = -1;
                              }
                          }
                      } else { //escaped value content is an entity name
--- 917,928 ----
                                      case 'X' :
                                      case 'x' : {
                                          entityValue = Integer.parseInt(entityContent.substring(2), 16);
                                      }
                                      default : {
                                          entityValue = Integer.parseInt(entityContent.substring(1), 10);
                                      }
                                  }
                              } catch (NumberFormatException e) {
                              }
                          }
                      } else { //escaped value content is an entity name

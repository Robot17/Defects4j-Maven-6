***************
*** 541,551 ****
          if (x == null) {
              throw new IllegalArgumentException("Null 'x' argument.");
          }
  
          // if we get to here, we know that duplicate X values are not permitted
          XYDataItem overwritten = null;
          int index = indexOf(x);
-         if (index >= 0 && !this.allowDuplicateXValues) {
              XYDataItem existing = (XYDataItem) this.data.get(index);
              try {
                  overwritten = (XYDataItem) existing.clone();
--- 541,555 ----
          if (x == null) {
              throw new IllegalArgumentException("Null 'x' argument.");
          }
+         if (this.allowDuplicateXValues) {
+             add(x, y);
+             return null;
+         }
  
          // if we get to here, we know that duplicate X values are not permitted
          XYDataItem overwritten = null;
          int index = indexOf(x);
+         if (index >= 0) {
              XYDataItem existing = (XYDataItem) this.data.get(index);
              try {
                  overwritten = (XYDataItem) existing.clone();
